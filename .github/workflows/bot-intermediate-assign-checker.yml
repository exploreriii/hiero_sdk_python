name: Enforce Intermediate Assignment Eligibility

on:
    issues:
        types:
            - assigned

permissions:
    issues: write
    contents: read

jobs:
    enforce-intermediate:
        runs-on: ubuntu-latest

        concurrency:
            group: intermediate-assign-${{ github.event.issue.number }}
            cancel-in-progress: false

        steps:
            - name: Checkout repository
              uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6.0.1

            - name: Enforce Intermediate eligibility
              uses: actions/github-script@ed597411d8f924073f98dfc5c65a23a2325f34cd #v8.0.0
              with:
                  script: |
                      const script = require('./.github/scripts/bots/assign-03-intermediate-check.js');
                      await script({ github, context });
